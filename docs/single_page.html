<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Performance Dashboard - Arcor</title>
    
    <!-- FavIcon Embebido (Simple SVG) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22></text></svg>">
    
    <!-- Bootstrap CSS (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Estilos CSS Embebidos -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            scroll-behavior: smooth;
        }
        .navbar {
            box-shadow: 0 2px 4px rgba(0,0,0,.1);
        }
        section {
            padding: 60px 0;
            border-bottom: 1px solid #eee;
        }
        h2 {
            border-bottom: 2px solid #0d6efd;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        .pdf-viewer {
            width: 100%;
            height: 600px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .download-btn {
            margin-top: 15px;
        }
        .img-dashboard {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,.1);
            transition: transform 0.2s;
        }
        .img-dashboard:hover {
            transform: scale(1.02);
        }
        
        /* Estilos para Markdown Renderizado */
        #markdown-content-display {
            background: #fdfdfd;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 25px;
        }
        #markdown-content-display h3 {
            font-size: 1.5rem;
            margin-top: 1.5rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        #markdown-content-display table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }
        #markdown-content-display th, 
        #markdown-content-display td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        #markdown-content-display th {
            background-color: #f8f9fa;
        }
        #markdown-content-display code {
            background-color: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
        }
        #markdown-content-display pre {
            background-color: #212529;
            color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }
    </style>
</head>
<body data-bs-spy="scroll" data-bs-target="#mainNavbar">

    <!-- Navegaci贸n Superior (TOC) -->
    <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#"> Dashboard Arcor</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#visual">Resumen Visual</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#informe">Informe</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#resumen">Resumen Ejecutivo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#presentacion">Presentaci贸n</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#insights">Insights</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#visualizaciones">Gr谩fico</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Contenido Principal -->
    <main class="container">

        <!-- 1. Resumen Visual (PNG Embebido) -->
        <section id="visual">
            <h2>1. Resumen Visual</h2>
            <div class="alert alert-info" role="alert">
                <strong>ACCIN REQUERIDA:</strong> Reemplaza el texto <code>[AQU_VA_EL_BASE64_DEL_PNG_RESUMEN_VISUAL]</code> en el <code>src</code> y <code>href</code> de abajo con el contenido Base64 de tu archivo <code>resumen_visual_dashboard.png</code>.
            </div>
            
            <a href="data:image/png;base64,[AQU_VA_EL_BASE64_DEL_PNG_RESUMEN_VISUAL]" target="_blank" title="Haz clic para ver la imagen completa">
                <img src="data:image/png;base64,[AQU_VA_EL_BASE64_DEL_PNG_RESUMEN_VISUAL]" 
                     class="img-dashboard" 
                     alt="Resumen Visual del Dashboard de Marketing"
                     onerror="this.src='https://placehold.co/1200x800/e9ecef/495057?text=Error%3A%20Falta%20Base64%20de%20Imagen'">
            </a>
            
            <a href="data:image/png;base64,[AQU_VA_EL_BASE64_DEL_PNG_RESUMEN_VISUAL]" 
               class="btn btn-primary download-btn" 
               download="resumen_visual_dashboard.png"
               aria-label="Descargar Resumen Visual PNG">
               Descargar Imagen (PNG)
            </a>
        </section>

        <!-- 2. Informe de Resultados (PDF Embebido) -->
        <section id="informe">
            <h2>2. Informe de Resultados</h2>
            <div class="alert alert-info" role="alert">
                <strong>ACCIN REQUERIDA:</strong> Reemplaza el texto <code>[AQU_VA_EL_BASE64_DEL_PDF_INFORME]</code> en el <code>src</code> y <code>href</code> de abajo con el contenido Base64 de tu archivo <code>informe_resultados.pdf</code>.
            </div>
            
            <iframe src="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_INFORME]" 
                    class="pdf-viewer" 
                    title="Visor de PDF: Informe de Resultados">
                <p>Tu navegador no soporta PDFs embebidos. Puedes <a href="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_INFORME]" download="informe_resultados.pdf">descargar el PDF</a> en su lugar.</p>
            </iframe>
            
            <a href="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_INFORME]" 
               class="btn btn-primary download-btn" 
               download="informe_resultados.pdf"
               aria-label="Descargar Informe de Resultados PDF">
               Descargar Informe (PDF)
            </a>
        </section>

        <!-- 3. Resumen Ejecutivo (PDF Embebido) -->
        <section id="resumen">
            <h2>3. Resumen Ejecutivo</h2>
            <div class="alert alert-info" role="alert">
                <strong>ACCIN REQUERIDA:</strong> Reemplaza el texto <code>[AQU_VA_EL_BASE64_DEL_PDF_RESUMEN]</code> en el <code>src</code> y <code>href</code> de abajo con el contenido Base64 de tu archivo <code>resumen_ejecutivo_arcor.pdf</code>.
            </div>

            <iframe src="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_RESUMEN]" 
                    class="pdf-viewer" 
                    title="Visor de PDF: Resumen Ejecutivo">
                <p>Tu navegador no soporta PDFs embebidos. Puedes <a href="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_RESUMEN]" download="resumen_ejecutivo_arcor.pdf">descargar el PDF</a> en su lugar.</p>
            </iframe>

            <a href="data:application/pdf;base64,[AQU_VA_EL_BASE64_DEL_PDF_RESUMEN]" 
               class="btn btn-primary download-btn" 
               download="resumen_ejecutivo_arcor.pdf"
               aria-label="Descargar Resumen Ejecutivo PDF">
               Descargar Resumen (PDF)
            </a>
        </section>

        <!-- 4. Presentaci贸n (Enlace a Archivo Grande) -->
        <section id="presentacion">
            <h2>4. Presentaci贸n (PowerPoint)</h2>
            <div class="alert alert-success" role="alert">
                <strong>LGICA APLICADA:</strong> Este archivo (<code>presentacion_powerpoint.pptx</code>) se ha simulado como "archivo grande" (>= 5MB).
                <br>
                <strong>ACCIN REQUERIDA:</strong> Aseg煤rate de crear la carpeta <code>docs/assets/</code> y copiar <code>presentacion_powerpoint.pptx</code> dentro de ella. El enlace de descarga de abajo funcionar谩 autom谩ticamente.
            </div>
            
            <p>La presentaci贸n de PowerPoint es un archivo grande y est谩 disponible para descarga directa.</p>
            
            <a href="./assets/presentacion_powerpoint.pptx" 
               class="btn btn-primary download-btn" 
               download="presentacion_powerpoint.pptx"
               aria-label="Descargar Presentaci贸n PPTX">
               Descargar Presentaci贸n (PPTX)
            </a>
        </section>

        <!-- 5. Insights y Recomendaciones (Markdown Renderizado) -->
        <section id="insights">
            <h2>5. Insights y Recomendaciones</h2>
            <div class="alert alert-info" role="alert">
                <strong>ACCIN REQUERIDA:</strong> Edita la variable <code>markdownContent</code> en el script al final de este archivo para pegar el contenido de tu archivo <code>insights_recomendaciones.md</code>.
            </div>
            
            <div id="markdown-content-display">
                <!-- El contenido se renderizar谩 aqu铆 por marked.js -->
            </div>
        </section>

        <!-- 6. Visualizaciones Interactivas (Chart.js) -->
        <section id="visualizaciones">
            <h2>6. Visualizaci贸n Interactiva (Ejemplo)</h2>
            <div class="alert alert-success" role="alert">
                <strong>DEMOSTRACIN:</strong> Se incluye un gr谩fico de Chart.js con datos de ejemplo.
                <br>
                <strong>ACCIN REQUERIDA:</strong> Si tienes un CSV, puedes editar el script al final de este archivo para reemplazar <code>exampleData</code> con los datos de tu CSV.
            </div>
            
            <canvas id="myPerformanceChart"></canvas>
        </section>

    </main>

    <footer class="text-center p-4 bg-light mt-5">
        <div class="container">
            <p class="mb-0">&copy; 2025 - Dashboard de Performance. Generado como archivo HTML autosuficiente.</p>
        </div>
    </footer>

    <!-- CDNs de JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" xintegrity="sha384-BsoN/bXv/iN/XN+jMAXg23A/YISYO1CILiYNo+gW/y1S/J4t/6jHHD/yTjT5i/bC" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.2/lib/marked.umd.min.js" xintegrity="sha384-GfP9Gk/vK29wi1FjYJMMP5/y2p6eQ8L5vF8S/s/s7pRaACh1E/3/S/vLwP/3Z/5L" crossorigin="anonymous"></script>

    <!-- Script Principal Embebido -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            // --- 5. L贸gica de Renderizado de Markdown ---
            try {
                // Pega el contenido de 'insights_recomendaciones.md' aqu铆.
                const markdownContent = `
# Insights Clave y Recomendaciones

Este es un *placeholder* para tu contenido de Markdown.

### Insight 1: Crecimiento en Canales Digitales
El an谩lisis muestra un **aumento del 35%** en la conversi贸n a trav茅s de campa帽as de email marketing en el Q3.

* **Recomendaci贸n:** Duplicar la inversi贸n en la segmentaci贸n de audiencias para email.

### Insight 2: Desempe帽o de Campa帽a
La campa帽a "Verano Arcor" super贸 los KPIs en un 15%.

| Campa帽a | ROI Esperado | ROI Real | Diferencia |
| :--- | :--- | :--- | :--- |
| Verano Arcor | 1.5 | 1.72 | +15% |
| Pascua | 1.8 | 1.6 | -11% |

* **Recomendaci贸n:** Analizar los componentes de la campa帽a "Pascua" para identificar 谩reas de mejora.

### C贸digo de Ejemplo de Tracking
\`\`\`javascript
// Ejemplo de c贸mo se mide la conversi贸n
function trackConversion(campaignId) {
    console.log('Track', campaignId);
    // analytics.track('Conversion', { campaign: campaignId });
}
\`\`\`
`;
                
                const displayElement = document.getElementById("markdown-content-display");
                if (displayElement && window.marked) {
                    // Usar la API actualizada de marked (v5+)
                    displayElement.innerHTML = window.marked.parse(markdownContent);
                } else {
                    displayElement.innerHTML = "<p>Error al cargar el renderizador de Markdown. Aseg煤rate de que marked.js est谩 disponible.</p>";
                    console.error("Marked.js no encontrado o elemento 'markdown-content-display' no existe.");
                }
            } catch (e) {
                console.error("Error al renderizar Markdown:", e);
                const displayElement = document.getElementById("markdown-content-display");
                if(displayElement) displayElement.innerHTML = "<p>Ocurri贸 un error al procesar el Markdown.</p>";
            }

            // --- 6. L贸gica del Gr谩fico (Chart.js) ---
            try {
                // Datos de ejemplo. Reemplaza esto con los datos de tu CSV.
                const exampleData = {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [
                        {
                            label: 'Inversi贸n (en miles USD)',
                            data: [50, 65, 70, 90],
                            borderColor: 'rgba(255, 99, 132, 1)',
                            backgroundColor: 'rgba(255, 99, 132, 0.2)',
                            borderWidth: 2,
                            tension: 0.1
                        },
                        {
                            label: 'Conversiones',
                            data: [120, 150, 180, 210],
                            borderColor: 'rgba(54, 162, 235, 1)',
                            backgroundColor: 'rgba(54, 162, 235, 0.2)',
                            borderWidth: 2,
                            tension: 0.1
                        }
                    ]
                };

                const ctx = document.getElementById('myPerformanceChart');
                if (ctx && window.Chart) {
                    new Chart(ctx, {
                        type: 'line', // Tipo de gr谩fico (line, bar, pie, etc.)
                        data: exampleData,
                        options: {
                            responsive: true,
                            plugins: {
                                legend: {
                                    position: 'top',
                                },
                                title: {
                                    display: true,
                                    text: 'Rendimiento de Marketing (Ejemplo)'
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
                } else {
                    console.error("Chart.js no encontrado o canvas 'myPerformanceChart' no existe.");
                }
            } catch (e) {
                console.error("Error al renderizar el gr谩fico:", e);
                const chartElement = document.getElementById('myPerformanceChart');
                if(chartElement) chartElement.getContext('2d').fillText("Error al cargar el gr谩fico.", 10, 50);
            }

            // Fallback por si los CDNs fallan (aunque no deber铆a ser necesario para este caso)
            if (!window.bootstrap) console.warn("Bootstrap JS no se carg贸.");
            if (!window.Chart) console.warn("Chart.js no se carg贸.");
            if (!window.marked) console.warn("Marked.js no se carg贸.");

        });
    </script>
</body>
</html>
